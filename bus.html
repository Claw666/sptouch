<html xmlns="http://www.w3.org/1999/xhtml" lang="en">

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="description" content="" />
	<meta name="keywords" content="" />
	<title>Science Park Touch Screen</title>
	<link rel="stylesheet" type="text/css" href="assets/css/main.css">
	<script src="assets/js/clock.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="assets/js/idle-timer.min.js"></script>
</head>
<body >
	<!--Header-->
	<header>
		<nav>
			<div id="hdr-container">
    			<div class="hdr-date"></div>
    			<div class="back-container">
    				<a href="index.html"><img id="icon-backwards" src="assets/img/back-sign.png"></a>
    				<a href="index.html"><img id="icon-backwards" src="assets/img/home.png"></a>
    			</div>
    			<div class="logo"><img  id="sp-logo" src="assets/img/southampton-science-park.png" alt="Science Park" /></div>
			</div>
		</nav>
	</header>
	<!--Main Part of Body-->
	<article>
		<div class="bus-hdr"><h1>Transport links</h1> </div>
		<!--<section class="timetable-container">
			<div class="timetable-box grow">
				<table>
				  <tr class="timetable-text">
				    <td colspan="2"><h2>Timetable</h2></td>
				  </tr>
				  <tr class="timetable-stops">
				    <td class="stop-sp"><p>Science Park</p></td>
				    <td class="stop-chillarms"><p>Chilworth Arms</p></td>
				  </tr>
				  <tr class="timetable-slots">
				  	<td >-</td>
				  	<td ><p>07:38 AM</p></td>
				  </tr>
				  <tr class="timetable-slots">
				  	<td >-</td>
				  	<td ><p>09:06 AM</p></td>
				  </tr>
				  <tr class="timetable-slots">
				  	<td >-</td>
				  	<td ><p>09:51 AM</p></td>
				  </tr>
				  <tr class="timetable-slots">
				  	<td >-</td>
				  	<td ><p>11:16 AM</p></td>
				  </tr>
				  <tr class="timetable-slots">
				  	<td >-</td>
				  	<td ><p>12:16 PM</p></td>
				  </tr>
				  <tr class="timetable-slots">
				  	<td >-</td>
				  	<td ><p>01:16 PM</p></td>
				  </tr>
				  <tr class="timetable-slots">
				  	<td >-</td>
				  	<td ><p>02:16 PM</p></td>
				  </tr>
				  <tr class="timetable-slots">
				  	<td >-</td>
				  	<td ><p>03:41 PM</p></td>
				  </tr>
				  <tr class="timetable-slots">
				  	<td ><p>04:40 PM</p></td>
				  	<td ><p>04:45 PM</p></td>
				  </tr>
				  <tr class="timetable-slots">
				  	<td ><p>05:10 PM</p></td>
				  	<td ><p>05:15 PM</p></td>
				  </tr>
				  <tr class="timetable-slots">
				  	<td ><p>05:55 PM</p></td>
				  	<td ><p>06:00 PM</p></td>
				  </tr>
				</table>
			</div>
		</section>-->
		<section class="nextbus-S-container">
			<div class="nextbus-S-box grow">
				<table>
				  	<tr class="nextbus-S-text">
				    	<td colspan="2"><p>Next Bus To Southampton</p></td>
				  	</tr>
					<tr>
				   		<th>From Science Park</th>
				   		<th>From Chilworth Arms</th>
				 	</tr>
					<tr class="bus-dep">
						<td class=""><p><span id="soton_soton"></span></p></td>
					    <td class=""><p><span id="soton_chil"></span></p></td>
				</table>
			</div>
		</section>
		<section class="nextbus-R-container">
			<div class="nextbus-R-box grow">
				<table>
				  	<tr class="nextbus-R-text">
				    	<td colspan="2"><p>Next Bus To Romsey</p></td>
				  	</tr>
					<tr>
				   		<th>From Science Park</th>
				   		<th>From Chilworth Arms</th>
				 	</tr>
					<tr class="bus-dep">
						<td class=""><p><span id="rom_soton"></span></p></td>
					    <td class=""><p><span id="rom_chil"></span></p></td>
				</table>
			</div>
		</section>
		<section class="taxi-container">
			<div class="taxi-box grow">
				<table>
				  <tr class="taxi-text">
				    <td colspan="3"><p>Local Taxi Services</p></td>
				  </tr>
				  <tr class="taxi-comp">
				    <td class=""><p>West Quay Cars</p></td>
				    <td class=""><p>Radio Taxis</p></td>
				    <td class=""><p>The Trans Group</td>
				  </tr>
				  <tr class="taxi-phone">
				    <td class="taxi-westq"><p>023 8099 9999</p></td>
				    <td class="taxi-radio"><p>023 8066 6666</p></td>
				    <td class="taxi-trans"><p>080 0077 8797</p></td>
				  </tr>
				</table>
			</div>
		</section>
		<section>
			<div class="bus_map">
				<img src="assets/img/bus-map.png">
			</div>
		</section>
	</article>
	<script type="text/javascript">

  /*Bus departure times in minutes (e.g. 17:15 -> 17*60+15) */
  var timeSotSot = [1000, 1030, 1075];
  var timeSotChil = [458, 546, 591, 676, 736, 796, 856, 941, 1005, 1035, 1080];
  var timeRomSot = [476, 530];
  var timeRomChil = [474, 528, 600, 660, 725, 785, 871, 996, 1056];

  window.setInterval("refreshDiv()", 200);
  function refreshDiv(){
  	var date = new Date();
    var currentHours = date.getHours();
    var currentMins = date.getMinutes();
    var currentSecs = date.getSeconds();
  	var timeMins = date.getHours()*60 + date.getMinutes();
  	function getHourSotChil(hours)
  {
      for(var i = 0; i< timeSotChil.length; i++)
      {
          if(timeSotChil[i]> hours)
          {
              return timeSotChil[i];
          }
      }
  }
  function getHourSotSot(hours)
  {
      for(var i = 0; i< timeSotSot.length; i++)
      {
          if(timeSotSot[i]> hours)
          {
              return timeSotSot[i];
          }
      }
  }
  function getHourRomChil(hours)
  {
      for(var i = 0; i< timeRomChil.length; i++)
      {
          if(timeRomChil[i]> hours)
          {
              return timeRomChil[i];
          }
      }
  }
  function getHourRomSot(hours)
  {
      for(var i = 0; i< timeRomSot.length; i++)
      {
          if(timeRomSot[i]> hours)
          {
              return timeRomSot[i];
          }
      }
  }


  var timeToSotChil = getHourSotChil(timeMins);
  var timeToSotSot = getHourSotSot (timeMins);
  var timeToRomChil = getHourRomChil(timeMins);
  var timeToRomSot = getHourRomSot (timeMins);
  var leavingTimeSotChil = (timeToSotChil-timeMins);
  var leavingTimeSotSot = (timeToSotSot-timeMins);
  var leavingTimeRomChil = (timeToRomChil-timeMins);
  var leavingTimeRomSot = (timeToRomSot-timeMins);

  if (timeMins < 940 || timeMins >= 1075){
      document.getElementById("soton_soton").innerHTML = "No Bus";
  }
  else {
      document.getElementById("soton_soton").innerHTML = "in " + leavingTimeSotSot + " mins";
  }

  if (timeMins < 420 || timeMins >= 1080){
      document.getElementById("soton_chil").innerHTML = "No Bus";
  }
  else {
      document.getElementById("soton_chil").innerHTML = "in " + leavingTimeSotChil + " mins";
  }

  if (timeMins < 420 || timeMins >= 530){
      document.getElementById("rom_soton").innerHTML = "No Bus";
  }
  else {
      document.getElementById("rom_soton").innerHTML = "in " + leavingTimeRomSot + " mins";
  }

  if (timeMins < 420 || timeMins >= 1056){
      document.getElementById("rom_chil").innerHTML = "No Bus";
  }
  else {
      document.getElementById("rom_chil").innerHTML = "in " + leavingTimeRomChil + " mins";
  }
  	
  }



</script>
<script type="text/javascript">
	(function ($) {
      
    $( document ).on( "idle.idleTimer", function(event, elem, obj){
        window.location.href = "http://csongorkocsis.me/sptouch/";
    });
    
    $( document ).on( "active.idleTimer", function(event, elem, obj, triggerevent){
    });
    
    $.idleTimer(20000);
    
})(jQuery);
</script>
</body>